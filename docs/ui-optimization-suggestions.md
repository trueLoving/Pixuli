# Pixuli 界面交互优化建议

基于 Immich 的设计理念，针对 Web 端和桌面端的界面交互优化建议。

## 📊 当前问题分析

### Web 端问题

1. **缺少侧边栏导航**：所有功能集中在顶部，导航不够清晰
2. **顶部导航栏过于拥挤**：包含标题、仓库信息、多个操作按钮
3. **主内容区域布局混乱**：上传区域、图片库控制、图片网格混在一起
4. **缺少搜索功能**：没有全局搜索栏
5. **缺少时间轴导航**：无法快速跳转到特定时间段的图片

### 桌面端问题

1. **SourceManager 侧边栏功能单一**：只显示仓库源，缺少其他导航
2. **布局不够统一**：与 Web 端差异较大

## 🎯 优化目标

参考 Immich 的设计，实现：

1. **清晰的左侧导航栏**：主要功能一目了然
2. **顶部搜索栏**：快速查找图片
3. **主内容区域专注展示**：减少干扰元素
4. **统一的设计语言**：Web 和桌面端保持一致

## 🏗️ 建议的布局结构

```
┌─────────────────────────────────────────────────────────┐
│  Header (顶部栏)                                          │
│  [Logo] [搜索栏]                    [用户操作] [设置]      │
├──────────┬──────────────────────────────────────────────┤
│          │                                               │
│  Sidebar │  Main Content Area (主内容区)                  │
│  (左侧)   │                                               │
│          │  - 图片上传区域（可折叠/最小化）                │
│  导航菜单 │  - 图片网格/列表                              │
│          │  - 按日期分组显示                              │
│  - 照片   │                                               │
│  - 探索   │                                               │
│  - 标签   │                                               │
│  - 收藏   │                                               │
│  - 设置   │                                               │
│          │                                               │
│  仓库源   │                                               │
│  (可折叠) │                                               │
└──────────┴──────────────────────────────────────────────┘
```

## 📝 具体优化建议

### 1. 左侧导航栏设计

#### 主要导航项

- **照片** (Photos) - 默认视图，显示所有图片
- **探索** (Explore) - 浏览模式（网格/列表/幻灯片/照片墙/3D画廊）
- **标签** (Tags) - 按标签浏览
- **收藏** (Favorites) - 收藏的图片
- **相册** (Albums) - 自定义相册（未来功能）
- **搜索** (Search) - 高级搜索

#### 管理区域

- **仓库源** (Sources) - 管理 GitHub/Gitee 仓库
- **设置** (Settings) - 应用设置

#### 底部

- **存储空间** (Storage) - 显示存储使用情况
- **帮助** (Help) - 快捷键帮助

### 2. 顶部栏优化

#### 左侧

- **Logo/应用名称** - 点击返回首页
- **当前视图标题** - 显示当前所在页面

#### 中间

- **搜索栏** - 全局搜索图片（按名称、标签、描述）
  - 支持快捷键 `/` 聚焦搜索
  - 实时搜索建议
  - 高级搜索选项

#### 右侧

- **上传按钮** - 快速上传图片
- **视图切换** - 网格/列表切换
- **排序选项** - 下拉菜单
- **批量操作** - 选中图片后的批量操作按钮
- **语言切换**
- **设置**
- **帮助**

### 3. 主内容区域优化

#### 图片上传区域

- **可折叠设计**：默认收起，点击展开
- **拖拽上传**：支持拖拽文件到任意区域
- **上传进度**：显示在顶部通知栏

#### 图片展示

- **按日期分组**：类似 Immich 的日期标题
  - "今天"、"昨天"、"本周"、"本月"
  - "2024年11月"、"2024年10月" 等
- **时间轴导航**：右侧显示年份列表，快速跳转
- **图片网格优化**：
  - 响应式布局
  - 悬停显示操作按钮
  - 选中状态清晰

### 4. 交互优化

#### 键盘快捷键

- `/` - 聚焦搜索
- `Ctrl/Cmd + K` - 打开命令面板
- `G` - 切换视图模式
- `T` - 切换标签视图
- `F` - 切换收藏视图

#### 右键菜单

- 图片右键菜单：查看详情、编辑、删除、添加到收藏等

#### 拖拽操作

- 拖拽图片到标签区域添加标签
- 拖拽图片到相册创建相册

## 🔧 实现建议

### 阶段一：基础布局重构

1. **创建侧边栏组件** (`Sidebar.tsx`)

   ```tsx
   - 导航菜单
   - 仓库源列表（可折叠）
   - 底部工具
   ```

2. **优化顶部栏** (`Header.tsx`)

   ```tsx
   - 搜索栏（居中）
   - 右侧操作按钮
   ```

3. **重构主布局** (`Layout.tsx`)
   ```tsx
   - 三栏布局：Sidebar + Main + (可选) Timeline
   ```

### 阶段二：功能增强

1. **搜索功能**
   - 全局搜索组件
   - 搜索历史
   - 高级搜索

2. **时间轴导航**
   - 右侧年份列表
   - 快速跳转功能

3. **日期分组**
   - 图片按日期分组显示
   - 日期标题样式

### 阶段三：交互优化

1. **键盘快捷键**
   - 完善快捷键系统
   - 快捷键提示

2. **右键菜单**
   - 图片右键菜单
   - 批量操作菜单

3. **拖拽功能**
   - 拖拽上传
   - 拖拽管理

## 📱 响应式设计

### 桌面端 (> 1024px)

- 完整侧边栏
- 三栏布局
- 所有功能可见

### 平板端 (768px - 1024px)

- 可折叠侧边栏
- 两栏布局
- 部分功能合并

### 移动端 (< 768px)

- 底部导航栏
- 单栏布局
- 抽屉式侧边栏

## 🎨 视觉设计建议

### 颜色方案

- **主色调**：保持现有的蓝色主题
- **侧边栏**：深色背景，提高对比度
- **主内容区**：浅色背景，突出内容

### 间距和布局

- **侧边栏宽度**：240px（桌面端）
- **内容区域**：自适应，最大宽度 1400px
- **卡片间距**：统一的间距系统

### 动画效果

- **侧边栏展开/收起**：平滑过渡
- **页面切换**：淡入淡出
- **图片加载**：渐进式加载

## 🔄 迁移计划

### 第一步：创建新布局组件

1. `Sidebar.tsx` - 侧边栏组件
2. `Header.tsx` - 优化后的顶部栏
3. `Layout.tsx` - 新布局容器

### 第二步：逐步迁移功能

1. 先迁移 Web 端
2. 测试和优化
3. 再迁移桌面端

### 第三步：功能增强

1. 添加搜索功能
2. 添加时间轴导航
3. 优化交互体验

## 📚 参考设计

- **Immich** - 主要参考
- **Google Photos** - 时间轴和分组
- **Figma** - 侧边栏设计
- **Notion** - 导航结构

## ✅ 优先级

### 高优先级

1. ✅ 创建侧边栏导航
2. ✅ 优化顶部栏布局
3. ✅ 重构主内容区域

### 中优先级

4. ⚠️ 添加搜索功能
5. ⚠️ 实现日期分组
6. ⚠️ 添加时间轴导航

### 低优先级

7. 📋 右键菜单
8. 📋 拖拽功能
9. 📋 高级搜索
